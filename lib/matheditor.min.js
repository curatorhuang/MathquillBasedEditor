function MathEditor(t){jq=window.jQuery,default_btns=["fraction","square_root","cube_root","root","superscript","subscript","multiplication","division","plus_minus","pi","degree","not_equal","greater_equal","less_equal","greater_than","less_than","angle","parallel_to","perpendicular","triangle"],button_config={fraction:{latex:"\\frac{}{}",moveto:"Up",movefor:1,icon:"margin-left: -2px; margin-top: -2px"},mix_fraction:{latex:"\\frac{}{}",moveto:"Up",movefor:1,icon:"margin-left: -2px; margin-top: -2px"},square_root:{latex:"\\sqrt{}",moveto:"Left",movefor:1,icon:"margin-left: -2px; margin-top: -101px;"},cube_root:{latex:"\\sqrt[3]{}",moveto:"Left",movefor:1,icon:"margin-left: -2px; margin-top: -167px"},root:{latex:"\\sqrt[{}]{}",moveto:"Left",movefor:2,icon:"margin-left: -2px; margin-top: -167px"},superscript:{latex:"\\^{}",moveto:"Up",movefor:1,icon:"margin-left: -2px; margin-top: -233px"},subscript:{latex:"\\_{}",moveto:"Down",movefor:1,icon:"margin-left: -2px; margin-top: -299px"},multiplication:{latex:"\\times",icon:"margin-left: 5px;margin-top: -512px;"},division:{latex:"\\div",icon:"margin-left: -28px; margin-top: -17px"},plus_minus:{latex:"\\pm",icon:"margin-left: -35px; margin-top: -2px"},pi:{latex:"\\pi",icon:"margin-left: -27px; margin-top: 5px"},degree:{latex:"\\degree",icon:"margin-left: -2px; margin-top: -2px"},not_equal:{latex:"\\neq",icon:"margin-left: -2px; margin-top: -2px"},greater_equal:{latex:"\\geq",icon:"margin-left: -2px; margin-top: -2px"},less_equal:{latex:"\\leq",icon:"margin-left: -2px; margin-top: -2px"},greater_than:{latex:"\\gt",icon:"margin-left: -2px; margin-top: -2px"},less_than:{latex:"\\lt",icon:"margin-left: -2px; margin-top: -2px"},angle:{latex:"\\angle",icon:"margin-left: -2px; margin-top: -2px"},parallel_to:{latex:"\\parallel",icon:"margin-left: -2px; margin-top: -2px"},perpendicular:{latex:"\\perpendicular",icon:"margin-left: -2px; margin-top: -2px"},triangle:{latex:"\\triangle",icon:"margin-left: -2px; margin-top: -2px"}};var e=MathQuill.getInterface(2);answerSpan=document.getElementById(t);var a={handlers:{edit:function(){}}};answerMathField=e.MathField(answerSpan,a),basic_styling(t),button_header(default_btns)}MathEditor.prototype.buttons=function(t){default_btns=t,button_header(default_btns)},MathEditor.prototype.removeButtons=function(t){t.forEach(function(t){var e=default_btns.indexOf(t);e>=0&&default_btns.splice(e,1)}),button_header(default_btns)},button_header=function(t){jq(answerSpan).unwrap(),jq(".matheditor-header").remove(),required_buttons=getUniq(t),wrapper_html="<div class='matheditor-wrapper'></div>",html="<div class='matheditor-header'>",required_buttons.forEach(function(t){html+="<span><button data-latex='"+button_config[t].latex+"' data-moveto='"+button_config[t].moveto+"' data-movefor='"+button_config[t].movefor+"' id='matheditor-btn-"+t+"' class='op-btn'><img src='lib/icons.png' style='"+button_config[t].icon+"'></button></span>"}),html+="</div>",jq(answerSpan).wrap(wrapper_html),jq(html).insertBefore(answerSpan),answerSpanWidth=jq(answerSpan).width(),jq(".matheditor-header").css("max-width",answerSpanWidth),button_task(answerMathField)},button_task=function(t){jq(".op-btn").on("click",function(e){latex=jq(this).data("latex"),t.write(latex),t.focus();for(var a=1;a<=jq(this).data("movefor");a++)t.keystroke(jq(this).data("moveto"))})},getUniq=function(t){var e=[];return jq.each(t,function(t,a){-1===jq.inArray(a,e)&&e.push(a)}),e},removeFromArray=function(t){t.forEach(function(t){var e=default_btns.indexOf(t);t>=0&&default_btns.splice(e,1)})},basic_styling=function(t){jq("#"+t).css("min-width",500),jq("#"+t).css("min-height",200),jq("#"+t).css("padding",5),jq("#"+t).css("font-size","15pt")};